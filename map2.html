<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Freely with No Boundaries · Map</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    #map {
      height: 600px;
      width: 100%;
      border: 2px solid gray;
      margin: 20px 0;
    }

    body {
      background-color: #cadecb;
    }

    .navbar-brand {
      background-color: #90E0EF;
      padding: 5px 12px;
      border-radius: 5px;
      margin-right: 10px;
      color: black !important;
      text-decoration: none;
    }

    .navbar-brand:hover {
      color: white !important;
    }
  </style>
</head>

<body>

  <header class="site-header">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Home</a>
        <a class="navbar-brand" href="map2.html">Map</a>
      </div>
    </nav>
  </header>

  <main class="container text-center">
    <section>
      <h1>Live Freely With No Boundaries</h1>
      <p>Zoom, click, explore any public / no permit required place.</p>
      <div class="color-legend" style="text-align: left;">
        <h2>Color Meanings</h2>
        <ul style="list-style:none; padding:0;">
          <li><span style="color:red; font-weight:bold;">Red</span> = Multi-Land Use Areas</li>
          <li><span style="color:blue; font-weight:bold;">Blue</span> = Bird Sanctuaries</li>
          <li><span style="color:green; font-weight:bold;">Green</span> = National Parks</li>
          <li><span style="color:lightgreen; font-weight:bold;">lightgreen</span> = Provincial Parks</li>
        </ul>
      </div>
      <div id="map"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 Sydney's site for GEOG 464.</p>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // ------------------------------------------------------------
    // Initialize map
    // ------------------------------------------------------------
    var map = L.map('map', {
    minZoom: 3,   // prevents zooming too far out
    maxZoom: 18,  // optional
    maxBounds: [
        [85, -170],   // north-west corner (top-left of Canada region)
        [40, -40]     // south-east corner (bottom-right of Canada region)
    ],
    maxBoundsViscosity: 0.7  // adds smooth snap-back effect
    }).setView([69.4267, -88.5938], 3);  // adjusted zoom to match minZoom


    var street = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // ------------------------------------------------------------
    // Hover + tooltip handler
    // ------------------------------------------------------------
function attachEvents(feature, layer) {
  // Build tooltip
  let tooltipContent = "";
  for (const key in feature.properties) {
    tooltipContent += `<strong>${key}</strong>: ${feature.properties[key]}<br>`;
  }
  layer.bindTooltip(tooltipContent, { sticky: true });

  // Save original style
  const originalStyle = {
    color: layer.options.color || "#3388ff",
    weight: layer.options.weight || 2,
    fillOpacity: layer.options.fillOpacity || 0.3
  };

  // Hover events
  layer.on({
    mouseover: function (e) {
      e.target.setStyle({
        color: 'yellow',
        weight: 3,
        fillOpacity: 0.6
      });

      // Bring to front for clarity (optional)
      if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        e.target.bringToFront();
      }
    }, 
    mouseout: function (e) {
      e.target.setStyle(originalStyle);  // restore original polygon style
    }
  });
}
    

    // ------------------------------------------------------------
    // BC
    // ------------------------------------------------------------
  var bcFiles = [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/mount_revelstoke_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/yoho_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/kootenay_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gwaii_haanas_national_park_reserve_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gulf_islands_national_park_reserve_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/glacier_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/pacific_rim_national_park_reserve_of_canada.geojson"
  ];

  var bcColors = ["green","green","green","green","orange","orange","green"];

  var bcLayer = L.layerGroup();
  bcFiles.forEach((url, index) => {
    fetch(url)
      .then(r => r.json())
      .then(data => {
        bcLayer.addLayer(L.geoJSON(data, {
          style: {
            color: bcColors[index],
            weight: 2,
            fillOpacity: 0.3
          },
          onEachFeature: attachEvents
        }));
      });
  });

  var overlayLayers = {};
  var baseLayers = {
    "Street": street
  };
  var layerControl = L.control.layers(baseLayers, overlayLayers).addTo(map);
  window.layerControl = layerControl;

  overlayLayers["British Columbia"] = bcLayer;
  layerControl.addOverlay(bcLayer, "British Columbia");

    // ------------------------------------------------------------
    // Yukon
    // ------------------------------------------------------------
    var ykFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/vuntutnatpark_FeaturesToJSON.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/YK_natparks_FeaturesToJSON.geojson"
    ];
    
    var ykColors = ["green", "green"];  
    
    var ykLayer = L.layerGroup();
    
    ykFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: ykColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          ykLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Yukon GeoJSON:", url, err));
    });
    
    overlayLayers["Yukon"] = ykLayer;
    if (window.layerControl) window.layerControl.addOverlay(ykLayer, "Yukon");
    
    // ------------------------------------------------------------
    // Nunavut
    // ------------------------------------------------------------
    var nuFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/MAdministrative8_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/sirmilik_natpark_nu.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/qausuittuq_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/ukkusiksalik_national_park_of_canada.geojson"
    ];
    
    var nuColors = ["green", "green", "green", "green"];  
    
    var nuLayer = L.layerGroup();
    
    nuFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nuColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nuLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Nunavut GeoJSON:", url, err));
    });
    
    overlayLayers["Nunavut"] = nuLayer;
    if (window.layerControl) window.layerControl.addOverlay(nuLayer, "Nunavut");


    // ------------------------------------------------------------
    // NL
    // ------------------------------------------------------------
  var nlFiles = [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/gros_morne_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/terra_nova_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/torngat_mountainss_national_park_of_canada.geojson"
  ];

  var nlColors = [];

  var nlLayer = L.layerGroup();
  nlFiles.forEach((url, index) => {
    fetch(url)
      .then(r => r.json())
      .then(data => {
        nlLayer.addLayer(L.geoJSON(data, {
          style: {
            color: nlColors[index],
            weight: 2,
            fillOpacity: 0.3
          },
          onEachFeature: attachEvents
        }));
      });
  });

  overlayLayers["Newfoundland and Labrador"] = nlLayer;
  layerControl.addOverlay(nlLayer, "Newfoundland and Labrador");


    // ------------------------------------------------------------
    // NWT
    // ------------------------------------------------------------
    var nwtFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Administrative33_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/NAATSIHJSONT_P_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/thaidene_nene_national_park_reserve_of_canada.geojson"
    ];
    
    var nwtColors = ["green", "green", "green"];  
    
    var nwtLayer = L.layerGroup();
    
    nwtFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nwtColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nwtLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Northwest Territories GeoJSON:", url, err));
    });
    
    overlayLayers["Northwest Territories"] = nwtLayer;
    if (window.layerControl) window.layerControl.addOverlay(nwtLayer, "Northwest Territories");
    
    // ------------------------------------------------------------
    // Manitoba
    // ------------------------------------------------------------
  var mbFiles = [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Manitoba_Parks_Filtered_final.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Administrative14_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeWAPUSK_FeaturesToJSO.geojson"
  ];

  var mbColors = ["lightgreen","green", "green"];  // FIXED

  var mbLayer = L.layerGroup();
  mbFiles.forEach((url, index) => {
    fetch(url)
      .then(r => r.json())
      .then(data => {
        mbLayer.addLayer(L.geoJSON(data, {
          style: {
            color: mbColors[index],
            weight: 2,
            fillOpacity: 0.3
          },
          onEachFeature: attachEvents
        }));
      });
  });

  overlayLayers["Manitoba"] = mbLayer;
  layerControl.addOverlay(mbLayer, "Manitoba");

    // ------------------------------------------------------------
    // Quebec (two files → one layer)
    // ------------------------------------------------------------
    var quebecFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Biodiversity_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Nature_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Territory_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Marine_reserve.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Proposed_Aquatic.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Combined_Proposed_ecologic.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Proposed_Biodiversity.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Proposed_National.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Migratory_Bird.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Park.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Wildlife.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Wildlife_Refuge.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Threatened_or.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/deliminated.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Voluntarily_Conserved.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeMINGAN_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeSAGUENAY_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeFORILLON_FeaturesToJSO.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/LAMUARICIE_FeaturesToJSON.geojson"
    ];

// Assign a color for each file (in the same order)
    var quebecColors = ["orange", "orange", "orange", "orange", "pink", "pink", "pink", "pink", "blue", "green", "red", "red", "red", "red", "red", "green", "green", "green", "green"];  
    
    var quebecLayer = L.layerGroup();
    
    quebecFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: quebecColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          quebecLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Quebec GeoJSON:", url, err));
    });
    
    overlayLayers["Quebec"] = quebecLayer;
    if (window.layerControl) window.layerControl.addOverlay(quebecLayer, "Quebec");
    // ------------------------------------------------------------
    // Saskatchewan
    // ------------------------------------------------------------
  var skFiles = [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Historic_Site_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Protected_Area_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Provincial_Park_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/Recreation_Site_SK.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/grasslands_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/prince_albert_national_park_of_canada.geojson"
  ];

  var skColors = ["red","red","lightgreen","red", "green", "green"];  // FIXED

  var skLayer = L.layerGroup();
  skFiles.forEach((url, index) => {
    fetch(url)
      .then(r => r.json())
      .then(data => {
        skLayer.addLayer(L.geoJSON(data, {
          style: {
            color: skColors[index],
            weight: 2,
            fillOpacity: 0.3
          },
          onEachFeature: attachEvents
        }));
      });
  });

  overlayLayers["Saskatchewan"] = skLayer;
  layerControl.addOverlay(skLayer, "Saskatchewan");
    
    // ------------------------------------------------------------
    // Prince Edward Island
    // ------------------------------------------------------------
    var peiFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/pei_prov_parks_finaL_last.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/prince_edward_island_national_park_of_canada.geojson"
    ];
    
    var peiColors = ["lightgreen", "green"];  
    
    var peiLayer = L.layerGroup();
    
    peiFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: peiColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          peiLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Prince Edward Island GeoJSON:", url, err));
    });
    
    overlayLayers["Prince Edward Island"] = peiLayer;
    if (window.layerControl) window.layerControl.addOverlay(peiLayer, "Prince Edward Island");

    // ------------------------------------------------------------
    // Ontario (multiple files → one layer)
    // ------------------------------------------------------------
  var ontarioFiles = [
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/wilderness_areas_final_last.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part1.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part2.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/PROV_PARK_REGULATED_final_last_last_part3.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/protected_areas_far_north_final.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeF5_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeROUGE_FeaturesToJSO.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/geogian_bay_islands_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/point_pelee_national_park_of_canada.geojson",
    "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/thousands_islands_national_park_of_canada.geojson"
  ];

  var ontarioColors = ["red","lightgreen","lightgreen","lightgreen","red","green","green"];  // FIXED

  var ontarioLayer = L.layerGroup();
  ontarioFiles.forEach((url, index) => {
    fetch(url)
      .then(r => r.json())
      .then(data => {
        ontarioLayer.addLayer(L.geoJSON(data, {
          style: {
            color: ontarioColors[index],
            weight: 2,
            fillOpacity: 0.3
          },
          onEachFeature: attachEvents
        }));
      });
  });

  overlayLayers["Ontario"] = ontarioLayer;  // FIXED
  layerControl.addOverlay(ontarioLayer, "Ontario");
    // ------------------------------------------------------------
    // Nova Scotia
    // ------------------------------------------------------------
    var nsFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/ns_provincial_parks_final.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/kejimkujik_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/CAPEBRETON.geojson"
    ];
    
    var nsColors = ["lightgreen"];  
    
    var nsLayer = L.layerGroup();
    
    nsFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nsColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nsLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Nova Scotia GeoJSON:", url, err));
    });
    
    overlayLayers["Nova Scotia"] = nsLayer;
    if (window.layerControl) window.layerControl.addOverlay(nsLayer, "Nova Scotia");

    // ------------------------------------------------------------
    // New Brunswick
    // ------------------------------------------------------------
    var nbFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/nb_prov_parks_final.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/fundy_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/kouchibouguac_national_park_of_canada.geojson"
    ];
    
    var nbColors = ["lightgreen", "green", "green"];  
    
    var nbLayer = L.layerGroup();
    
    nbFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: nbColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          nbLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading New Brunswick GeoJSON:", url, err));
    });
    
    overlayLayers["New Brunswick"] = nbLayer;
    if (window.layerControl) window.layerControl.addOverlay(nbLayer, "New Brunswick");

     // ------------------------------------------------------------
   // Alberta
  // ------------------------------------------------------------
    var abFiles = [
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/wood_buffalo_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/waterton_lakes_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/jasper_national_park_of_canada.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/AdministrativeBANFF_FeaturesToJSON.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/elk_island_national_park_of_canada.geojson"
    ];
    
    var abColors = ["lightgreen", "green", "green"];  
    
    var abLayer = L.layerGroup();
    
    abFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: abColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          abLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading Alberta GeoJSON:", url, err));
    });
    
    overlayLayers["Alberta"] = abLayer;
    if (window.layerControl) window.layerControl.addOverlay(abLayer, "Alberta");

    
    // ------------------------------------------------------------
    // National Parks
    // ------------------------------------------------------------
    // ------------------------------------------------------------
    var natparkFiles = [
      "https://github.com/sreymon/464WEBSITE1/blob/main/FEDparksFINAL.geojson",
      "https://raw.githubusercontent.com/sreymon/464WEBSITE1/refs/heads/main/National_Park.geojson"
    ];
    
    var natparkColors = ["green"];  
    
    var natparkLayer = L.layerGroup();
    
    natparkFiles.forEach((url, index) => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          var layer = L.geoJSON(data, {
            style: {
              color: natparkColors[index],   // <-- Different color per file
              weight: 2,
              fillOpacity: 0.3
            },
            onEachFeature: attachEvents
          });
    
          natparkLayer.addLayer(layer);
        })
        .catch(err => console.error("Error loading National Parks GeoJSON:", url, err));
    });
    
    overlayLayers["National Parks"] = natparkLayer;
    if (window.layerControl) window.layerControl.addOverlay(natparkLayer, "National Parks");

    // ------------------------------------------------------------
    // Click popup
    // ------------------------------------------------------------
    map.on('click', function (e) {
      L.popup()
        .setLatLng(e.latlng)
        .setContent(`You clicked at: ${e.latlng.lat.toFixed(4)}, ${e.latlng.lng.toFixed(4)}`)
        .openOn(map);
    });
  </script>

</body>

</html>
